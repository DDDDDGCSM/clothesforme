#!/usr/bin/env python3
"""
æ›´æ–°ä¹¦ç±åˆ—è¡¨å’Œå›¾ç‰‡æ˜ å°„
"""

import os
import json
from pathlib import Path

# ä¹¦ç±æ•°æ®æ˜ å°„
BOOKS_DATA = [
    {
        'title': 'Pedro PÃ¡ramo',
        'author': 'Juan Rulfo',
        'cover': 'å¢¨è¥¿å“¥ä¹¦/ä½©å¾·ç½—ãƒ»å¸•æ‹‰è«.jpeg',
        'why_release': 'è¿™æœ¬ä¹¦ä¸æ˜¯ç”¨çœ¼ç›è¯»çš„ï¼Œæ˜¯ç”¨è€³æœµå¬çš„ã€‚å¯‚é™çš„ç§‘é©¬æ‹‰æ‘é‡Œï¼Œæ¯ä¸€ä¸ªçŸ³é˜¶ã€æ¯ä¸€é˜µé£éƒ½åœ¨è½¬è¿°äº¡çµçš„å¯¹è¯ã€‚æˆ‘è¿·å¤±åœ¨æ—¶é—´çš„ç¢ç‰‡é‡Œï¼Œåˆ†ä¸æ¸…å™è¿°è€…æ˜¯æ´»äººè¿˜æ˜¯é¬¼é­‚ã€‚è¯»å®Œåˆä¸Šä¹¦ï¼Œä»¿ä½›è‡ªå·±ä¹Ÿæˆäº†é‚£ä¸ªæ‘åº„çš„ä¸€éƒ¨åˆ†â€”â€”é‚£ä¸ªè¢«ç½ªå­½ä¸è®°å¿†æ°¸æ’å›°ä½çš„åœ°æ–¹ã€‚'
    },
    {
        'title': 'Obra completa de Juan Rulfo',
        'author': 'Juan Rulfo',
        'cover': 'å¢¨è¥¿å“¥ä¹¦/Narrativa completa.png',
        'why_release': 'å¦‚æœè¯´ã€Šä½©å¾·ç½—Â·å¸•æ‹‰è«ã€‹æ˜¯ä¸€åº§è¿·å®«ï¼Œé‚£è¿™éƒ¨å…¨é›†å°±æ˜¯æ•´ä¸ªé²å°”ç¦çš„å®‡å®™ã€‚é‚£äº›çŸ­ç¯‡åƒä¸€æŠŠæŠŠé”‹åˆ©åˆæ²‰é»˜çš„åˆ€ï¼Œç²¾å‡†åœ°å‰–å¼€å¢¨è¥¿å“¥å¤§åœ°çš„å­¤ç‹¬ä¸åšéŸ§ã€‚è¯»å®Œåï¼Œé‚£ç‰‡å¹²æ—±ã€æš´çƒˆåˆå……æ»¡ç¥æ€§çš„åœŸåœ°ï¼Œæ°¸è¿œåœ°å°åœ¨äº†æˆ‘å¿ƒé‡Œã€‚'
    },
    {
        'title': 'La muerte de Artemio Cruz',
        'author': 'Carlos Fuentes',
        'cover': 'å¢¨è¥¿å“¥ä¹¦/é˜¿å°”ç‰¹ç±³å¥¥Â·å…‹ç½—æ–¯ä¹‹æ­».png',
        'why_release': 'è·Ÿéšä¸€ä¸ªå‚æ­»é©å‘½è€…çš„æ„è¯†ï¼Œæˆ‘ç»å†äº†å¢¨è¥¿å“¥äºŒåä¸–çºªçš„æ³¢æ¾œå£®é˜”ä¸é“å¾·å´©è§£ã€‚å¯Œæ©ç‰¹æ–¯ç”¨"ä½ "ã€"æˆ‘"ã€"ä»–"ä¸‰ç§äººç§°ï¼Œè®©æˆ‘åŒæ—¶æˆä¸ºå™è¿°è€…ã€å®¡åˆ¤è€…å’Œæ—è§‚è€…ã€‚è¿™ä¸ä»…ä»…æ˜¯ä¸€ä¸ªäººçš„æ­»äº¡ï¼Œæ›´æ˜¯ä¸€ä¸ªç†æƒ³å¦‚ä½•è¢«æƒåŠ›ä¸æ—¶é—´è…èš€çš„å…¨è¿‡ç¨‹ã€‚'
    },
    {
        'title': 'Del amor y otros demonios',
        'author': 'Gabriel GarcÃ­a MÃ¡rquez (Colombia)',
        'cover': 'å¢¨è¥¿å“¥ä¹¦/çˆ±æƒ…å’Œå…¶ä»–é­”é¬¼.png',
        'why_release': 'é©¬å°”å…‹æ–¯æ”¶èµ·äº†å®å¤§çš„"ç™¾å¹´"å™äº‹ï¼Œè½¬è€Œè®²è¿°ä¸€ä¸ªå…³äºåæ‰§ä¸çº¯çœŸçš„æ‚²å‰§ã€‚å°‘å¥³è¢«çˆ±æƒ…å’Œè¿·ä¿¡å…±åŒå›šç¦ï¼Œé‚£é•¿è¾¾22ç±³çš„å¤´å‘æ˜¯ç”Ÿå‘½åŠ›çš„è±¡å¾ï¼Œä¹Ÿæ˜¯æ— å½¢çš„æ·é”ã€‚è¿™ä¸ªæ•…äº‹åƒä¸€é¦–å¿§ä¼¤çš„æŒ½æ­Œï¼Œè®²è¿°ç€ä»¥çˆ±ä¸ºåçš„ä¼¤å®³ã€‚'
    },
    {
        'title': 'Cien aÃ±os de soledad',
        'author': 'Gabriel GarcÃ­a MÃ¡rquez (Colombia)',
        'cover': 'å¢¨è¥¿å“¥ä¹¦/ç™¾å¹´å­¤ç‹¬.png',
        'why_release': 'ç¬¬ä¸€æ¬¡è¯»æ—¶ï¼Œæˆ‘è¢«é‚£äº›é‡åçš„äººç»•å¾—æ™•å¤´è½¬å‘ï¼›ç¬¬äºŒæ¬¡è¯»ï¼Œæˆ‘çœ‹åˆ°äº†ä¸€ä¸ªå®¶æ—çš„å‘½è¿å¦‚ä½•åƒDNAä¸€æ ·èºæ—‹å¾ªç¯ï¼›ç¬¬ä¸‰æ¬¡è¯»ï¼Œæˆ‘å¿½ç„¶æ˜ç™½ï¼Œ"å­¤ç‹¬"ä¸æ˜¯ä¸€ä¸ªäººçš„çŠ¶æ€ï¼Œè€Œæ˜¯ä¸€ä¸ªæ–‡æ˜åœ¨ç‹‚æ¬¢ä¸é—å¿˜ä¸­ä¸æ–­é‡å¤çš„å®¿å‘½ã€‚'
    },
    {
        'title': 'Los detectives salvajes',
        'author': 'Roberto BolaÃ±o (Chile)',
        'cover': 'å¢¨è¥¿å“¥ä¹¦/é‡è›®ä¾¦æ¢.png',
        'why_release': 'è¿™æœ¬ä¹¦æ˜¯çŒ®ç»™æ‰€æœ‰æ–‡å­¦é’å¹´çš„æƒ…ä¹¦ä¸æŒ½æ­Œã€‚æˆ‘è·Ÿç€ä¸¤ä¸ª"æœ¬èƒ½ç°å®ä¸»ä¹‰è¯—äºº"æ¨ªè·¨å¤§æ´²ï¼Œå¯»æ‰¾ä¸€ä¸ªå¤±è¸ªçš„ä½œå®¶ã€‚å‰åŠéƒ¨åˆ†æ˜¯é’æ˜¥çš„ç«ç„°ï¼ŒååŠéƒ¨åˆ†æ˜¯ç°çƒ¬çš„ä½™æ¸©ã€‚å®ƒè®©æˆ‘æ˜ç™½ï¼Œè¿½å¯»æ–‡å­¦æœ¬èº«ï¼Œå°±æ˜¯ä¸€åœºç››å¤§è€Œæ‚²å£®çš„æµæµªã€‚'
    },
    {
        'title': 'Papeles falsos',
        'author': 'Valeria Luiselli',
        'cover': 'å¢¨è¥¿å“¥ä¹¦/å‡è¯ä»¶.png',
        'why_release': 'è¿™ä¸æ˜¯ä¼ ç»Ÿçš„å°è¯´ï¼Œè€Œæ˜¯ä¸€åœºå…³äºé˜…è¯»ä¸èº«ä»½çš„ä¼˜é›…æ¼«æ¸¸ã€‚ä½œè€…åœ¨çº½çº¦çš„è¡—é“å’Œå›¾ä¹¦é¦†é‡Œï¼Œè¿½è¸ªä¸€ä½å‡ ä¹è¢«é—å¿˜çš„è¯—äººã€‚æˆ‘æ„Ÿå—åˆ°ä¸€ç§å¥‡å¦™çš„å…±é¸£ï¼šåœ¨ä¸€ä¸ªä¸å±äºè‡ªå·±çš„åŸå¸‚é‡Œï¼Œç”¨æ–‡å­—æ„å»ºæ –èº«ä¹‹æ‰€ï¼Œæˆ‘ä»¬æ¯ä¸ªäººä¸éƒ½åœ¨ä½¿ç”¨ç€æŸç§"å‡è¯ä»¶"å—ï¼Ÿ'
    },
    {
        'title': 'Los rituales del caos',
        'author': 'Carlos MonsivÃ¡is',
        'cover': 'å¢¨è¥¿å“¥ä¹¦/å¢¨è¥¿å“¥çš„äº”ä¸ªå¤ªé˜³.png',
        'why_release': 'è’™è¥¿ç“¦ä¼Šæ–¯æ˜¯å¢¨è¥¿å“¥ç¤¾ä¼šæœ€æ•é”çš„"æ–‡åŒ–è¯Šæ–­å¸ˆ"ã€‚è¯»ä»–çš„æ‚æ–‡ï¼Œå°±åƒåœ¨çœ‹ä¸€éƒ¨å¿«èŠ‚å¥çš„è’™å¤ªå¥‡ç”µå½±ï¼šäº¡çµèŠ‚ã€é©å‘½å£ç”»ã€ç”µè§†è‚¥çš‚å‰§ã€æ”¿æ²»ä¸‘é—»â€¦â€¦ä»–è®©æˆ‘å‘ç°ï¼Œç†è§£ä¸€ä¸ªæ°‘æ—ï¼Œä¸ä»…è¦çœ‹å®ƒçš„å²è¯—ï¼Œæ›´è¦çœ‹å®ƒçš„å…«å¦ã€ç¬‘è¯å’Œæµè¡Œæ–‡åŒ–ã€‚'
    },
    {
        'title': 'La reina del sur',
        'author': 'Arturo PÃ©rez-Reverte (EspaÃ±a)',
        'cover': 'å¢¨è¥¿å“¥ä¹¦/å—æ–¹å¥³ç‹.png',
        'why_release': 'è™½ç„¶ä½œè€…æ˜¯è¥¿ç­ç‰™äººï¼Œä½†ä»–åˆ»ç”»äº†ä¸€ä¸ªä»¤äººéš¾å¿˜çš„å¢¨è¥¿å“¥å¥³æ€§æ¯’æ­å½¢è±¡ã€‚æˆ‘éœ‡æƒŠäºæ•…äº‹çš„ç°å®æ„Ÿï¼Œå®ƒæ²¡æœ‰ç®€å•çš„é»‘ç™½å¯¹ç«‹ï¼Œè€Œæ˜¯å±•ç¤ºäº†åœ¨æš´åŠ›ä¸åˆ©ç›Šçš„ç°è‰²åœ°å¸¦ï¼Œä¸€ä¸ªäººå¦‚ä½•ä»å—å®³è€…å˜ä¸ºæŒæ§è€…ã€‚è¿™æ˜¯ä¸€éƒ¨å…³äºç”Ÿå­˜ä¸æƒåŠ›çš„å†·é…·å²è¯—ã€‚'
    },
    {
        'title': 'La noche de Tlatelolco',
        'author': 'Elena Poniatowska',
        'cover': 'å¢¨è¥¿å“¥ä¹¦/ç ´è§’çš„æ˜¥å¤©.png',
        'why_release': 'æ³¢å°¼äºšæ‰˜å¤«æ–¯å¡å°†è¯ç­’é€’ç»™äº†å¢¨è¥¿å“¥åŸæœ€è¾¹ç¼˜çš„é’å°‘å¹´å¸®æ´¾æˆå‘˜ã€‚ä»–ä»¬çš„è¯­è¨€ç²—ç³™ã€æš´åŠ›ï¼Œå´åˆå……æ»¡ä»¤äººå¿ƒç¢çš„è„†å¼±ã€‚è¯»å®Œæˆ‘æ‰æ˜ç™½ï¼Œ"ç ´è§’"ä¸ä»…æŒ‡ä»–ä»¬ï¼Œä¹ŸæŒ‡è¿™ä¸ªè®©ä»–ä»¬ç»æœ›çš„ç¤¾ä¼šã€‚è¿™æ˜¯ä¸€æœ¬éœ€è¦å‹‡æ°”å»é¢å¯¹çš„ä¹¦ã€‚'
    },
    {
        'title': 'El libro de arena',
        'author': 'Jorge Luis Borges (Argentina)',
        'cover': 'å¢¨è¥¿å“¥ä¹¦/æ²™ä¹‹ä¹¦.png',
        'why_release': 'åšå°”èµ«æ–¯ç”¨æœ€ç®€çŸ­çš„æ•…äº‹ï¼Œæ„å»ºäº†æœ€ä»¤äººææƒ§çš„å“²å­¦è¿·å®«ã€‚é‚£æœ¬æ— å§‹æ— ç»ˆçš„"æ²™ä¹‹ä¹¦"ï¼Œæœ€ç»ˆå› å®ƒçš„æ— é™è€Œè¢«ä¸»äººæŠ›å¼ƒã€‚è¿™åƒæäº†æˆ‘ä»¬å¯¹çŸ¥è¯†ã€å¯¹å®‡å®™çš„æ¸´æœ›ä¸ææƒ§â€”â€”æˆ‘ä»¬çœŸæ­£å®³æ€•çš„ï¼Œä¹Ÿè®¸æ˜¯é‚£ä¸ªæ²¡æœ‰è¾¹ç•Œã€æ— æ³•æŒæ¡çš„çœŸç›¸ã€‚'
    },
    {
        'title': 'Piedra de sol',
        'author': 'Octavio Paz',
        'cover': 'å¢¨è¥¿å“¥ä¹¦/å¤ªé˜³çŸ³.png',
        'why_release': 'æˆ‘è¯•ç€æœ—è¯»ï¼Œè®©è¥¿ç­ç‰™è¯­çš„éŸ³èŠ‚åœ¨å”‡é½¿é—´æ»šåŠ¨ã€‚å¸•æ–¯çš„è¯—å¥åƒä¸€æ¡æ„è¯†æµçš„é•¿æ²³ï¼Œå°†é˜¿å…¹ç‰¹å…‹ç¥è¯ã€ç°ä»£çˆ±æƒ…ã€å†å²è®°å¿†å…¨éƒ¨æº¶è§£å…¶ä¸­ã€‚584è¡Œï¼Œé¦–å°¾ç›¸è¿ï¼Œå½¢æˆæ—¶é—´çš„å®Œç¾å¾ªç¯ã€‚é‚£ä¸€åˆ»ï¼Œæˆ‘æ„Ÿå—åˆ°è¯—æ­Œä¸æ˜¯è£…é¥°ï¼Œè€Œæ˜¯ä¸€ç§æ„ŸçŸ¥ä¸–ç•Œçš„å¤è€è€Œç²¾å¯†çš„æ–¹å¼ã€‚'
    },
    {
        'title': 'La historia de mis dientes',
        'author': 'Valeria Luiselli',
        'cover': 'å¢¨è¥¿å“¥ä¹¦/æˆ‘çš„ç‰™é½¿æ•…äº‹.png',
        'why_release': 'ä¸€ä½æ‹å–å¸ˆä¸ºåäººç‰™é½¿ç¼–é€ è’è¯åˆå¯Œæœ‰å“²æ€çš„æ•…äº‹ã€‚è·¯æ˜“å¡åˆ©ä»¥ä¸€ç§è½»ç›ˆçš„å¹½é»˜ï¼Œæ¢è®¨äº†å™äº‹çš„åŠ›é‡â€”â€”æˆ‘ä»¬å¦‚ä½•é€šè¿‡æ•…äº‹èµ‹äºˆç‰©å“ï¼ˆä¹ƒè‡³äººç”Ÿï¼‰ä»·å€¼ã€‚è¿™æœ¬ä¹¦è®©æˆ‘ç¬‘å‡ºå£°ï¼Œä¹Ÿè®©æˆ‘æ€è€ƒï¼šæˆ‘ä»¬æ¯ä¸ªäººï¼Œä¸éƒ½åœ¨è®²è¿°ç€è‡ªå·±ç‰ˆæœ¬çš„"ç‰™é½¿æ•…äº‹"å—ï¼Ÿ'
    },
    {
        'title': 'Como agua para chocolate',
        'author': 'Laura Esquivel',
        'cover': 'å¢¨è¥¿å“¥ä¹¦/åƒæ°´ä¸€æ ·æµ“.png',
        'why_release': 'è¿™æ˜¯ä¸€æœ¬ä¼š"è°ƒå‘³"çš„ä¹¦ï¼æ¯ä¸ªç« èŠ‚å‰çš„é£Ÿè°±ï¼Œéšç€å¥³ä¸»è§’è’‚å¡”çš„æƒ…ç»ªï¼Œè®©é£Ÿç‰©æˆä¸ºæƒ…æ„Ÿçš„é­”æ³•ã€‚å½“å¥¹æ‚²ä¼¤æ—¶ï¼Œå®¢äººåƒäº†å¥¹çš„è›‹ç³•ä¼šç—›å“­æµæ¶•ã€‚æˆ‘è¯»ç€è¯»ç€ï¼Œä»¿ä½›ä¹Ÿå°åˆ°äº†çˆ±æƒ…çš„ç‚½çƒ­ã€ç¦é”¢çš„è‹¦æ¶©å’Œè‡ªç”±çš„ç”˜ç”œã€‚è¿™æ˜¯ä¸€åœºæ„Ÿå®˜ä¸å¿ƒçµçš„ç››å®´ã€‚'
    },
    {
        'title': 'El principito',
        'author': 'Antoine de Saint-ExupÃ©ry (Francia)',
        'cover': 'å¢¨è¥¿å“¥ä¹¦/å°ç‹å­.png',
        'why_release': 'å°æ—¶å€™è¯»ï¼Œè¿™æ˜¯ä¸€ä¸ªå…³äºç«ç‘°å’Œç‹ç‹¸çš„ç«¥è¯ï¼›æˆå¹´åè¯»ï¼Œè¿™æ˜¯ä¸€é¢ç…§è§è‡ªå·±å¦‚ä½•å˜æˆ"å¤§äºº"çš„é•œå­ã€‚"çœŸæ­£é‡è¦çš„ä¸œè¥¿ï¼Œç”¨çœ¼ç›æ˜¯çœ‹ä¸è§çš„ã€‚" è¿™å¥è¯åœ¨ä¸åŒçš„å¹´é¾„ï¼Œæœ‰ä¸åŒçš„é‡é‡ã€‚å®ƒæé†’æˆ‘ï¼Œä¸è¦å¿˜è®°è‡ªå·±ä¹Ÿæ›¾æ˜¯B612æ˜Ÿçƒä¸Šçš„é‚£ä¸ªå­©å­ã€‚'
    },
    {
        'title': 'HÃ¡bitos atÃ³micos',
        'author': 'James Clear (Estados Unidos)',
        'cover': 'å¢¨è¥¿å“¥ä¹¦/åŸå­ä¹ æƒ¯.png',
        'why_release': 'åœ¨è¯»å®Œé‚£ä¹ˆå¤šå…³äºå‘½è¿ä¸å­¤ç‹¬çš„å®å¤§å™äº‹åï¼Œè¿™æœ¬ä¹¦åƒä¸€ä»½å®ç”¨çš„ç”Ÿæ´»å·¥å…·ä¹¦ã€‚å®ƒå‘Šè¯‰æˆ‘ï¼Œå®å¤§çš„æ”¹å˜å§‹äºå¾®å°çš„ã€1%çš„æ—¥å¸¸ç§¯ç´¯ã€‚å®ƒè®©æˆ‘ä»æ–‡å­¦çš„å¤©ç©ºè½å›ç°å®çš„åœ°é¢ï¼Œå¼€å§‹è€å¿ƒåœ°ã€ç³»ç»Ÿåœ°å»ºé€ è‡ªå·±æƒ³è¦çš„ç”Ÿæ´»ã€‚'
    },
    {
        'title': 'La regiÃ³n mÃ¡s transparente',
        'author': 'Carlos Fuentes',
        'cover': 'å¢¨è¥¿å“¥ä¹¦/æœ€æ˜å‡€çš„åœ°åŒº.png',
        'why_release': 'è¿™æ˜¯å¯Œæ©ç‰¹æ–¯ä¸ºå¢¨è¥¿å“¥åŸå†™ä¸‹çš„"è‚–åƒå°è¯´"ã€‚æˆ‘ä»¿ä½›æ¼«æ­¥åœ¨æ”¹é©å¤§é“ä¸Šï¼Œä¸å½¢å½¢è‰²è‰²çš„è§’è‰²æ“¦è‚©è€Œè¿‡ï¼šé©å‘½æ–°è´µã€æ²¡è½è´µæ—ã€è‰ºæœ¯å®¶ã€éª—å­â€¦â€¦ä»–ä»¬å…±åŒæ„æˆäº†è¿™åº§åŸå¸‚çš„å–§åš£ä¸è™šæ— ã€‚"æœ€æ˜å‡€çš„åœ°åŒº"è¿™ä¸ªå……æ»¡è®½åˆºçš„æ ‡é¢˜ï¼Œé“å°½äº†ç°ä»£åŒ–å…‰ç¯ä¸‹çš„æ··ä¹±ä¸çŸ›ç›¾ã€‚'
    }
]

def get_image_path(filename):
    """è·å–å›¾ç‰‡çš„å®Œæ•´è·¯å¾„"""
    base_path = Path(__file__).parent
    image_path = base_path / filename
    if image_path.exists():
        return f"/static/{filename}"
    return None

def main():
    """ä¸»å‡½æ•°"""
    print("ğŸ“š æ›´æ–°ä¹¦ç±æ•°æ®...")
    print(f"âœ… å…± {len(BOOKS_DATA)} æœ¬ä¹¦")
    
    # æ£€æŸ¥å›¾ç‰‡æ–‡ä»¶
    print("\nğŸ“¸ æ£€æŸ¥å›¾ç‰‡æ–‡ä»¶...")
    for i, book in enumerate(BOOKS_DATA, 1):
        img_path = Path(__file__).parent / book['cover']
        if img_path.exists():
            size_kb = img_path.stat().st_size / 1024
            print(f"  {i}. {book['title']}: {book['cover']} ({size_kb:.1f} KB)")
            if size_kb > 300:
                print(f"     âš ï¸  å›¾ç‰‡è¾ƒå¤§ ({size_kb:.1f} KB)ï¼Œå»ºè®®å‹ç¼©")
        else:
            print(f"  {i}. {book['title']}: âŒ å›¾ç‰‡ä¸å­˜åœ¨ - {book['cover']}")
    
    print("\nâœ… æ£€æŸ¥å®Œæˆ")

if __name__ == "__main__":
    main()

