# 🤖 BookForMX 自动化部署说明

## 📋 部署脚本说明

项目提供了两个自动化部署脚本：

### 1. `一键部署.py` - 半自动部署（推荐）

**功能**：
- ✅ 自动推送到 GitHub
- ✅ 提供 Vercel 部署指引
- ✅ 可自动打开浏览器

**使用方法**：

```bash
# 方法1: 使用环境变量
export GITHUB_TOKEN=your_github_token
python3 一键部署.py

# 方法2: 直接传递 Token
python3 一键部署.py your_github_token
```

**适用场景**：
- 首次部署
- 需要手动确认 Vercel 设置
- 不熟悉 Vercel API

---

### 2. `完全自动部署.py` - 全自动部署

**功能**：
- ✅ 自动推送到 GitHub
- ✅ 自动创建 Vercel 项目
- ✅ 自动触发部署
- ✅ 完全无需手动操作

**使用方法**：

```bash
# 方法1: 使用环境变量
export GITHUB_TOKEN=your_github_token
export VERCEL_TOKEN=your_vercel_token
python3 完全自动部署.py

# 方法2: 直接传递 Token
python3 完全自动部署.py github_token vercel_token
```

**获取 Token**：

#### GitHub Token
1. 访问: https://github.com/settings/tokens
2. 点击: "Generate new token (classic)"
3. 输入名称: `BookForMX Deploy`
4. 勾选权限: ✅ `repo` (全部)
5. 点击: "Generate token"
6. 复制 Token（格式: `ghp_xxxxxxxxxxxx`）

#### Vercel Token
1. 访问: https://vercel.com/account/tokens
2. 点击: "Create Token"
3. 输入名称: `BookForMX Deploy`
4. 选择过期时间: 90 days
5. 点击: "Create"
6. 复制 Token（格式: `vercel_xxxxxxxxxxxx`）

**适用场景**：
- 需要完全自动化
- CI/CD 流程
- 频繁部署

---

## 🚀 快速开始

### 首次部署（推荐方式）

```bash
cd "/Users/a58/cursor/归档/OK 调研/bookforMX"

# 使用一键部署脚本
python3 一键部署.py your_github_token
```

脚本会自动：
1. ✅ 检查环境
2. ✅ 配置 Git
3. ✅ 推送到 GitHub
4. ✅ 提供 Vercel 部署指引

然后按照提示在浏览器中完成 Vercel 部署。

---

### 完全自动化部署

```bash
cd "/Users/a58/cursor/归档/OK 调研/bookforMX"

# 使用完全自动部署脚本
python3 完全自动部署.py \
  your_github_token \
  your_vercel_token
```

脚本会自动完成所有步骤，无需手动操作。

---

## 📊 部署流程对比

| 功能 | 一键部署.py | 完全自动部署.py |
|------|------------|----------------|
| GitHub 推送 | ✅ 自动 | ✅ 自动 |
| Vercel 创建项目 | ⚠️ 手动 | ✅ 自动 |
| Vercel 触发部署 | ⚠️ 手动 | ✅ 自动 |
| 需要 Vercel Token | ❌ 不需要 | ✅ 需要 |
| 适合场景 | 首次部署 | 频繁部署 |

---

## 🔄 更新部署

代码更新后，只需重新运行部署脚本：

```bash
# 修改代码后
git add .
git commit -m "更新说明"

# 运行部署脚本
python3 一键部署.py your_token
```

或使用完全自动部署：

```bash
python3 完全自动部署.py github_token vercel_token
```

---

## 🆘 常见问题

### Q1: GitHub Token 无效

**解决**：
- 检查 Token 是否过期
- 确认 Token 有 `repo` 权限
- 重新生成 Token

### Q2: Vercel Token 无效

**解决**：
- 检查 Token 是否过期
- 确认 Token 有项目访问权限
- 重新生成 Token

### Q3: 部署失败

**解决**：
1. 查看脚本输出的错误信息
2. 检查 GitHub 仓库是否存在
3. 检查 Vercel 项目权限
4. 查看 Vercel 控制台的部署日志

### Q4: 如何查看部署状态

**Vercel 控制台**：
- 访问: https://vercel.com/dashboard
- 选择项目: `bookformx`
- 查看 "Deployments" 标签

---

## 📚 相关文档

- [快速部署指南.md](快速部署指南.md) - 网页部署详细步骤
- [VERCEL_DEPLOY_GUIDE.md](VERCEL_DEPLOY_GUIDE.md) - Vercel 完整指南
- [README.md](README.md) - 项目说明

---

**现在就开始自动化部署吧！** 🚀

